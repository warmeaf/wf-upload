# ä»‹ç»

## wf-upload æ˜¯ä»€ä¹ˆï¼Ÿ

**wf-upload** æ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€ç”Ÿäº§çº§çš„å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«å‰ç«¯åº“å’Œåç«¯æœåŠ¡ä¸¤éƒ¨åˆ†ï¼š

- **å‰ç«¯åº“** (`@wf-upload/core`): åŸºäº TypeScript ç¼–å†™çš„é«˜æ€§èƒ½æ–‡ä»¶ä¸Šä¼ åº“
- **åç«¯æœåŠ¡** (`wf-upload-server`): åŸºäº NestJS + MongoDB çš„å®Œæ•´åç«¯å®ç°
- **é€šä¿¡åè®®**: æ ‡å‡†åŒ–çš„å‰åç«¯é€šä¿¡åè®®

## æ ¸å¿ƒç‰¹æ€§

### ğŸš€ æ€§èƒ½ä¼˜åŒ–

- **åˆ†ç‰‡ä¸Šä¼ **: å°†å¤§æ–‡ä»¶åˆ†å‰²æˆå¤šä¸ªå°å—è¿›è¡Œä¸Šä¼ ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ 
- **å¹¶å‘æ§åˆ¶**: å¯é…ç½®çš„å¹¶å‘ä¸Šä¼ æ•°é‡ï¼Œå……åˆ†åˆ©ç”¨ç½‘ç»œå¸¦å®½
- **å¤šçº¿ç¨‹ Hash è®¡ç®—**: ä½¿ç”¨ Web Workers çº¿ç¨‹æ± å¹¶è¡Œè®¡ç®— Hashï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹
- **å¢é‡ Hash è®¡ç®—**: æ— éœ€ç­‰å¾…å®Œæ•´æ–‡ä»¶ Hash å³å¯å¼€å§‹ä¸Šä¼ ï¼Œå¤§å¹…æå‡ä¸Šä¼ é€Ÿåº¦

### âœ¨ æ™ºèƒ½åŠŸèƒ½

- **æ–‡ä»¶ç§’ä¼ **: é€šè¿‡æ–‡ä»¶ Hash å€¼æ£€æµ‹æ–‡ä»¶æ˜¯å¦å·²å­˜åœ¨ï¼Œç¬é—´å®Œæˆä¸Šä¼ 
- **æ–­ç‚¹ç»­ä¼ **: è‡ªåŠ¨æ£€æµ‹å·²ä¸Šä¼ çš„åˆ†ç‰‡ï¼Œè·³è¿‡é‡å¤ä¸Šä¼ 
- **ä¸Šä¼ æ§åˆ¶**: æ”¯æŒæš‚åœã€æ¢å¤ã€å–æ¶ˆä¸Šä¼ æ“ä½œ
- **å¤šæ–‡ä»¶ä¸Šä¼ **: å¤©ç„¶æ”¯æŒåŒæ—¶ä¸Šä¼ å¤šä¸ªæ–‡ä»¶

### ğŸ—ï¸ æ¶æ„è®¾è®¡

- **åˆ†å±‚æ¶æ„**: Domainã€Infrastructureã€Coreã€Applicationã€Presentation äº”å±‚æ¶æ„
- **äº‹ä»¶é©±åŠ¨**: å®Œæ•´çš„äº‹ä»¶ç³»ç»Ÿï¼Œæ”¯æŒç›‘å¬å„ç§ä¸Šä¼ äº‹ä»¶
- **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- **æ˜“äºæ‰©å±•**: æ”¯æŒè‡ªå®šä¹‰ API å®¢æˆ·ç«¯ï¼Œçµæ´»é€‚é…ä¸åŒåç«¯

## è§£å†³çš„é—®é¢˜

### 1. ç½‘ç»œä¸­æ–­å¯¼è‡´çš„ä¸Šä¼ å¤±è´¥

ä¼ ç»Ÿä¸Šä¼ æ–¹å¼åœ¨ç½‘ç»œä¸­æ–­æ—¶éœ€è¦é‡æ–°ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶ã€‚wf-upload é€šè¿‡åˆ†ç‰‡ä¸Šä¼ å’Œæ–­ç‚¹ç»­ä¼ æœºåˆ¶ï¼Œåªéœ€ä¸Šä¼ æœªå®Œæˆçš„åˆ†ç‰‡ã€‚

### 2. é‡å¤æ–‡ä»¶å ç”¨èµ„æº

é€šè¿‡æ–‡ä»¶ Hash å€¼æ£€æµ‹ï¼Œç›¸åŒå†…å®¹çš„æ–‡ä»¶åªéœ€ä¸Šä¼ ä¸€æ¬¡ï¼Œåç»­ä¸Šä¼ ç›¸åŒæ–‡ä»¶å¯å®ç°ç§’ä¼ ã€‚

### 3. å¤§æ–‡ä»¶ä¸Šä¼ é˜»å¡é¡µé¢

ä½¿ç”¨ Web Workers åœ¨åå°çº¿ç¨‹è¿›è¡Œ Hash è®¡ç®—ï¼Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œä¿è¯é¡µé¢æµç•…ã€‚

### 4. ä¸Šä¼ è¿›åº¦ä¸é€æ˜

æä¾›å®Œæ•´çš„ä¸Šä¼ è¿›åº¦è¿½è¸ªï¼ŒåŒ…æ‹¬åˆ†ç‰‡ Hash è®¡ç®—è¿›åº¦å’Œä¸Šä¼ è¿›åº¦ã€‚

## æŠ€æœ¯æ ˆ

### å‰ç«¯åº“

- **TypeScript** - ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ
- **Web Workers** - å¤šçº¿ç¨‹ Hash è®¡ç®—
- **SparkMD5** - MD5 å“ˆå¸Œè®¡ç®—
- **Fetch API** - ç°ä»£åŒ– HTTP è¯·æ±‚

### åç«¯æœåŠ¡

- **NestJS** - æ¸è¿›å¼ Node.js æ¡†æ¶
- **MongoDB** - NoSQL æ–‡æ¡£æ•°æ®åº“
- **Mongoose** - MongoDB å¯¹è±¡å»ºæ¨¡å·¥å…·

## é€‚ç”¨åœºæ™¯

- ğŸ“ äº‘å­˜å‚¨æœåŠ¡çš„æ–‡ä»¶ä¸Šä¼ 
- ğŸ¬ è§†é¢‘/éŸ³é¢‘ç­‰å¤§æ–‡ä»¶ä¸Šä¼ 
- ğŸ“¦ æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ
- ğŸ”„ éœ€è¦æ–­ç‚¹ç»­ä¼ çš„åœºæ™¯
- âš¡ éœ€è¦ç§’ä¼ åŠŸèƒ½çš„åœºæ™¯

## å¿«é€Ÿå¼€å§‹

```typescript
import { FileUploader } from '@wf-upload/core'

const uploader = new FileUploader({
  config: {
    chunkSize: 2 * 1024 * 1024, // 2MB
    concurrency: 3,
    baseUrl: 'http://localhost:3000/api/file',
  },
  onProgress: (state) => {
    console.log('ä¸Šä¼ è¿›åº¦:', state.progress)
  },
  onCompleted: (url) => {
    console.log('ä¸Šä¼ å®Œæˆ:', url)
  },
})

await uploader.upload(file)
```

äº†è§£æ›´å¤šï¼Œè¯·æŸ¥çœ‹ [å¿«é€Ÿå¼€å§‹](/docs/guide/quick-start) æŒ‡å—ã€‚
